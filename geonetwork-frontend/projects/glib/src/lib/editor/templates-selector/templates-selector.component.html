<div
  gSearchContext="newDataTemplates"
  size="40"
  filter="+isTemplate:y"
  [sort]="[{ 'resourceTitleObject.default.sort': 'desc' }]">

  <g-search-agg
    aggregation="resourceType"
    [isLabelDisplayed]="false"
    [layout]="SearchAggLayout.SELECT_BUTTON"
    scope="newDataTemplates" />

  <g-search-results scope="newDataTemplates">
    <ng-template #searchProgressTemplate>
      <p-progressBar mode="indeterminate" [style]="{ height: '6px' }" />
    </ng-template>
    <ng-template #resultsTemplate let-search>
      @if (search.response().hits.total.value === 0) {
        <p class="text-center">No template found.</p>
      } @else {
        <div class="w-full">
          <label class="font-bold">Templates</label>
        </div>
        <p-selectButton
          class="flex-col"
          styleClass="w-full"
          [options]="search.response().hits.hits"
          [(ngModel)]="template"
          allowEmpty="false"
          optionValue="_id">
          <ng-template #item let-hit>
            <div
              class="text-2xl font-semibold line-clamp-1 break-all p-6"
              [attr.id]="'gn-record-' + hit._id"
              [attr.title]="hit._source.resourceTitleObject?.default">
              <g-record-field-resource-type
                [field]="hit._source.resourceType"
                [layout]="ResourceTypeLayout.ICON"
                styleClass="fa-2xl" />
              {{ hit._source.resourceTitleObject.default }}
            </div>
          </ng-template>
        </p-selectButton>
      }
    </ng-template>
  </g-search-results>

  <!-- <p-dropdown
     styleClass="w-full"
     gSearchResultsLoader="newDataTemplates"
     [(ngModel)]="template"
     placeholder="" />-->
</div>
